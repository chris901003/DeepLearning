# PANet的相關筆記

### Loss計算方式
我們會計算出Lagg與Ldis以及其他損失，這裡先主要說明這兩個損失代表的意思 \
綜合Lagg與Ldis就是使類內距離小類間距離大

### Lagg計算方式
> 表示文本實例與kernel的loss，用於保證同一文本實例像素的Similar vector與其kernel的similar vector離的很近
>> 這裡的文本實例像素的Similar vector只的是文本實例中每個像素的相似向量，如文本實例有1000個相素，則有1000個相似度向量
> 
>> kernel的Similar vector指的是對應kernel的一個相似度向量，即是將kernel相似度向量的同一維度不同像素點的值求和並取平均，
>> 如kernel有900個像素點，每個像素點按理說也是分別對應一個相似度向量，但是由於kernel是文本實例的縮放，故像素點與文本實例數目不對應900<1000，
>> 隨意對於kernel採用求和的處理方式，如原shape=[4, 900]，4行900列，也就是900個像素點，每個像素點有4個值組成的相似度向量，這裡將900個像素點
>> 的值求和並取平均，得到shape=[4*1]
> 
>> 在計算距離的過程中將文本實例每個像素點的相似向量與kernel的相似向量求歐式距離

### Ldis計算方式
> 表示不同文本實例對應的kernel之間的loss，用於保證不同kernel的similar vector離的很遠(間接表達不同文本實例之間不會交叉)
>> 這裡是將不同kernel的similar vector兩倆之間的歐式距離
